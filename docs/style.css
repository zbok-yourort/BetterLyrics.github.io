/* docs/style.css - The Pure WinUI Docs Theme */

/* =========================================
   2. 侧边栏 (Sidebar) - WinUI Acrylic 风格
   ========================================= */
.sidebar {
  /* 关键：使用 rgba 设置半透明 */
  /* 前三个数字是 RGB (深灰色)，最后一个 0.2 是透明度 (0=全透, 1=不透) */
  background-color: rgba(20, 20, 20, 0.2) !important;

  /* 加上磨砂模糊效果 */
  backdrop-filter: blur(20px) !important;
  -webkit-backdrop-filter: blur(20px) !important;

  /* 稍微淡一点的右边框，显得更通透 */
  border-right: 1px solid rgba(255, 255, 255, 0.05) !important;
  width: 300px;
}

/* 侧边栏列表 */
.sidebar ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.sidebar li {
  margin: 4px 0;
}

/* 侧边栏链接 */
.sidebar a {
  display: block;
  padding: 6px 20px;
  color: var(--text-secondary, #a0a0a0);
  text-decoration: none;
  font-size: 0.95rem;
  border-left: 3px solid transparent; /* 左侧指示条 */
  transition: all 0.1s;
}

/* 链接悬停 & 激活 */
.sidebar a:hover {
  color: var(--text);
  background-color: rgba(255, 255, 255, 0.05);
}

.sidebar li.active > a {
  color: var(--accent, #60cdff);
  font-weight: 600;
  border-left-color: var(--accent); /* WinUI 风格：左侧亮条 */
  background: linear-gradient(90deg, rgba(96, 205, 255, 0.1), transparent);
}

/* 隐藏 Docsify 自动生成的 App Name (因为你有 Header 了) */
.app-name {
  display: none;
}

/* =========================================
   3. 正文区域 (Markdown Content)
   ========================================= */
.content {
  padding-top: 20px;
  /* 关键：给左边留出 Sidebar 的位置 */
  margin-left: 300px;
  position: relative;
}

/* 限制最大宽度，提升阅读体验 */
.markdown-section {
  max-width: 900px;
  margin: 0 auto;
  padding: 0 40px 60px 40px; /* 上 右 下 左 */
}

/* 标题样式 */
.markdown-section h1 {
  font-size: 2.5rem;
  border-bottom: 1px solid var(--border);
  padding-bottom: 10px;
  margin-bottom: 30px;
}
.markdown-section h2 {
  font-size: 1.8rem;
  margin-top: 40px;
  margin-bottom: 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  padding-bottom: 8px;
}
.markdown-section h3 {
  font-size: 1.4rem;
  margin-top: 30px;
  margin-bottom: 15px;
}
.markdown-section h1,
.markdown-section h2,
.markdown-section h3,
.markdown-section h4 {
  color: var(--text);
  font-weight: 600;
}

/* 段落与列表 */
.markdown-section p,
.markdown-section ul,
.markdown-section ol {
  line-height: 1.8;
  color: var(--text-secondary, #d0d0d0);
  margin-bottom: 1.2em;
}

/* 引用块 (Blockquote) */
.markdown-section blockquote {
  margin: 2em 0;
  padding-left: 20px;
  border-left: 4px solid var(--accent);
  color: #b0b0b0;
  background: rgba(255, 255, 255, 0.03);
  padding: 10px 20px;
  border-radius: 0 4px 4px 0;
}

/* 表格 */
.markdown-section table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
  display: block;
  overflow-x: auto;
}
.markdown-section th {
  background: rgba(255, 255, 255, 0.1);
  color: var(--text);
  font-weight: bold;
  padding: 10px;
  border: 1px solid var(--border);
}
.markdown-section td {
  padding: 10px;
  border: 1px solid var(--border);
  color: var(--text-secondary);
}

/* 链接 */
.markdown-section a {
  color: var(--accent);
  text-decoration: none;
}
.markdown-section a:hover {
  text-decoration: underline;
}

/* 代码块背景 (PrismJS 容器) */
.markdown-section pre {
  background: #1e1e1e !important; /* 强制深色底 */
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 15px;
  font-family: "Cascadia Code", Consolas, monospace;
}

/* 行内代码 (`code`) */
.markdown-section code {
  background: rgba(255, 255, 255, 0.1);
  color: #ff9d00;
  padding: 2px 6px;
  border-radius: 4px;
  font-family: "Cascadia Code", Consolas, monospace;
  font-size: 0.9em;
}

/* =========================================
   4. 搜索框重构 (Search)
   ========================================= */

.sidebar {
  position: fixed;
}

.sidebar .search {
  margin-bottom: 20px;
  padding: 0 20px;
  border: 0px;
  position: relative;
}

.sidebar .search input {
  width: 100%;
  background-color: rgba(0, 0, 0, 0.3);
  color: var(--text);
  border-radius: 4px;
  padding: 8px 10px;
  outline: none;
  transition: all 0.2s;
}

.sidebar .search input:focus {
  border-color: var(--accent);
  background-color: rgba(0, 0, 0, 0.5);
  border-bottom-width: 2px;
}

/* 搜索结果面板 */
.sidebar .search .results-panel {
  display: none; /* 默认隐藏，有结果JS会显示 */
  background: var(--bg);
  position: absolute;
  top: 40px;
  left: 10px;
  right: 10px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
  z-index: 20;
  border-radius: 4px;
  padding: 10px;
  max-height: 300px;
  overflow-y: auto;
}
.sidebar .search.show .results-panel {
  display: block;
}

/* =========================================
   5. 移动端适配 (Mobile Responsive)
   ========================================= */
/* 移动端汉堡菜单按钮 */
.sidebar-toggle {
  position: fixed;
  top: 90px;
  left: 20px;
  z-index: 1001; /* 比 Header 高 */
  background: transparent;
  border: none;
  outline: none;
  cursor: pointer;
  display: none; /* PC端隐藏 */
}
.sidebar-toggle span {
  display: block;
  width: 20px;
  height: 2px;
  background: var(--text);
  margin-bottom: 4px;
}

/* WinUI 3 风格分割线 */
hr {
  border: none;
  height: 1px;
  margin: 24px 0;
  /* 使用线性渐变模拟 WinUI 3 的细微质感 */
  background: linear-gradient(
    to right,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.08) 10%,
    rgba(0, 0, 0, 0.08) 90%,
    rgba(0, 0, 0, 0) 100%
  );
}

/* 适配暗黑模式 (如果你的 Docsify 开启了暗黑主题) */
@media (prefers-color-scheme: dark) {
  hr {
    background: linear-gradient(
      to right,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.1) 10%,
      rgba(255, 255, 255, 0.1) 90%,
      rgba(255, 255, 255, 0) 100%
    );
  }
}

/* WinUI 3 风格的高亮 (Mark) */
mark {
  /* 核心色彩：采用 WinUI 典型的 TextHighlighter 颜色 */
  background-color: #fff1ad; /* 浅金色，更温润 */
  color: #1b1b1b;

  /* 形状：Windows 11 的标准小圆角 */
  border-radius: 4px;

  /* 间距：避免高亮色紧贴文字 */
  padding: 2px 4px;
  margin: 0 1px;

  /* 字体：保持一致性 */
  font-weight: 500;
}

/* 如果你更喜欢“强调色”风格的高亮（类似选中态） */
mark.accent {
  background-color: rgba(0, 120, 212, 0.2); /* 20% 透明度的系统主题色 */
  color: var(--accent-color);
}

/* 暗黑模式适配 */
@media (prefers-color-scheme: dark) {
  mark {
    background-color: #4d4426; /* 深金色背景 */
    color: #ffea8c; /* 亮色字体，确保可读性 */
  }

  mark.accent {
    background-color: rgba(0, 120, 212, 0.35);
    color: #ffffff;
  }
}

/* 屏幕变窄时的逻辑 */
@media screen and (max-width: 768px) {
  .sidebar {
    transform: translateX(-110%); /* 默认把侧边栏藏到左边 */
    top: 0; /* 移动端铺满 */
    z-index: 2000;
  }

  body.ready.close .sidebar {
    transform: translateX(0); /* 打开时滑出来 */
  }

  .content {
    margin-left: 0; /* 内容不留空 */
  }

  .sidebar-toggle {
    display: block; /* 显示按钮 */
  }
}
